webpackJsonp([14],{jnmA:function(e,a,t){"use strict";var r=t("Nv7v"),o={getAddress:{url:"/app/address/getAddress",method:"post"},listArea:{url:"/pc/store/listArea",method:"post"},saveAddress:{url:"/app/address/saveAddress",method:"post"},updateAddress:{url:"/app/address/updateAddSubAddress",method:"post"}};a.a=function(e,a){return Object(r.a)(o[e].url,o[e].method,a,{},o[e].fileConfig)}},nXry:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("Dd8w"),o=t.n(r),n=t("//Fk"),l=t.n(n),i=t("woOf"),s=t.n(i),u=(t("mtWM"),t("mw3O"),t("hSyu")),c=t("jnmA"),d={name:"location",components:{IFile:u.a},data:function(){return{formData:{},provinceSortF:[],citySortF:[],areaSortF:[],formRules:{provinceCode:[{required:!0,message:"请输入省级编号",trigger:"change"}],cityCode:[{required:!0,message:"请输入市级编号",trigger:"change"}],areaCode:[{required:!0,message:"请输入区级编号",trigger:"change"}],address:[{required:!0,message:"请输入详细地址",trigger:"change"}],getName:[{required:!0,message:"请输入收件人名称",trigger:"change"}],phone:[{required:!0,message:"请输入手机号码",trigger:"change"},{type:"number",message:"电话号码必须为数字"},{validator:this.validateTel,trigger:"change"}],betrue:[{required:!0,message:"请选择是否默认该地址",trigger:"change"}]},betrueOptions:[{label:"默认地址",value:"0"},{label:"不默认该地址",value:"1"}]}},computed:{userType:function(){return JSON.parse(sessionStorage.getItem("roleInfo")).role}},mounted:function(){this.proId()},methods:{proId:function(){var e=this;Object(c.a)("listArea",{parentCode:1}).then(function(a){e.provinceSort=a.data.map(function(e){return s()({},a,{label:e.areaName,value:e.areaCode})}),e.provinceSortF=a.data.map(function(e){return s()({},a,{label:e.areaName,value:e.areaCode})})}),console.log("this.$route.query.xiuLoca",this.$route.query.xiuLoca),this.$route.query.xiuLoca[0]&&l.a.all([this.citId(this.$route.query.xiuLoca[0].provinceCode),this.areId(this.$route.query.xiuLoca[0].cityCode)]).then(function(a){e.formData=s()({},e.$route.query.xiuLoca[0],{phone:Number(e.$route.query.xiuLoca[0].phone),betrue:""})})},citId:function(e){var a=this;return e?new l.a(function(t,r){a.formData.cityCode="",a.formData.areaCode="",a.citySortF=[],a.areaSortF=[],Object(c.a)("listArea",{parentCode:e}).then(function(e){a.citySortF=e.data.map(function(a){return s()({},e,{label:a.areaName,value:a.areaCode})}),t(a.citySortF)})}):(this.formData.cityCode="",this.formData.areaCode="",this.citySortF=[],void(this.areaSortF=[]))},areId:function(e){var a=this;return e?new l.a(function(t,r){a.formData.areaCode="",a.areaSortF=[],Object(c.a)("listArea",{parentCode:e}).then(function(e){a.areaSortF=e.data.map(function(a){return s()({},e,{label:a.areaName,value:a.areaCode})}),t(a.areaSortF)})}):(this.formData.areaCode="",void(this.areaSortF=[]))},submit:function(){var e=this;Object(c.a)("updateAddress",o()({},this.formData)).then(function(a){0===a.code?(e.$message.success(a.msg),e.$refs.form.resetFields()):e.$message.error(a.msg)})},validateTel:function(e,a,t){""===a||void 0===a||null==a?t():/^[1][3-9][0-9]{9}$/.test(a)||""===a?t():t(new Error("请输入正确的电话号码"))}}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-form",{ref:"form",attrs:{model:e.formData,rules:e.formRules,inline:"","label-width":"80px"}},[t("el-form-item",{attrs:{label:"省级编号",prop:"provinceCode"}},[t("el-select",{attrs:{clearable:"",placeholder:"所在省份"},on:{change:function(a){return e.citId(e.formData.provinceCode)}},model:{value:e.formData.provinceCode,callback:function(a){e.$set(e.formData,"provinceCode",a)},expression:"formData.provinceCode"}},e._l(e.provinceSortF,function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"市级编号",prop:"cityCode"}},[t("el-select",{attrs:{clearable:"",placeholder:"所在市"},on:{change:function(a){return e.areId(e.formData.cityCode)}},model:{value:e.formData.cityCode,callback:function(a){e.$set(e.formData,"cityCode",a)},expression:"formData.cityCode"}},e._l(e.citySortF,function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"区级编号",prop:"areaCode"}},[t("el-select",{attrs:{clearable:"",placeholder:"所在区"},model:{value:e.formData.areaCode,callback:function(a){e.$set(e.formData,"areaCode",a)},expression:"formData.areaCode"}},e._l(e.areaSortF,function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[t("el-input",{model:{value:e.formData.address,callback:function(a){e.$set(e.formData,"address",a)},expression:"formData.address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"收件人",prop:"getName"}},[t("el-input",{model:{value:e.formData.getName,callback:function(a){e.$set(e.formData,"getName",a)},expression:"formData.getName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.formData.phone,callback:function(a){e.$set(e.formData,"phone",e._n(a))},expression:"formData.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"是否默认",prop:"betrue"}},[t("el-select",{model:{value:e.formData.betrue,callback:function(a){e.$set(e.formData,"betrue",a)},expression:"formData.betrue"}},e._l(e.betrueOptions,function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"register-btn",attrs:{type:"primary"},on:{click:e.submit}},[e._v("确     定")])],1)],1)],1)},staticRenderFns:[]};var f=t("VU/8")(d,m,!1,function(e){t("qKKK")},"data-v-8d3ca2bc",null);a.default=f.exports},qKKK:function(e,a){}});
//# sourceMappingURL=14.aa7ded49559ede97a9ed.js.map